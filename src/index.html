<!DOCTYPE html>
<!--
Author: Keenthemes
Product Name: Ceres HTML Free  - Bootstrap 5 HTML Multipurpose Admin Dashboard Theme
Upgrade to Pro: https://keenthemes.com/products/ceres-html-pro
Website: http://www.keenthemes.com
Contact: support@keenthemes.com
Follow: www.twitter.com/keenthemes
Dribbble: www.dribbble.com/keenthemes
Like: www.facebook.com/keenthemes
License: For each use you must have a valid license purchased only from above link in order to legally use the theme for your project.
-->
<html lang="en">
  <!--begin::Head-->
  <head>
    <base href="" />
    <title>Dashboard</title>
    <meta
      name="description"
      content="Ceres admin dashboard live demo. Check out all the features of the admin panel. A large number of settings, additional services and widgets."
    />
    <meta
      name="keywords"
      content="Ceres theme, bootstrap, bootstrap 5, admin themes, free admin themes, bootstrap admin, bootstrap dashboard"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta charset="utf-8" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta
      property="og:title"
      content="Ceres HTML Free - Bootstrap 5 HTML Multipurpose Admin Dashboard Theme"
    />
    <meta
      property="og:url"
      content="https://keenthemes.com/products/ceres-html-pro"
    />
    <meta property="og:site_name" content="Keenthemes | Ceres HTML Free" />
    <link
      rel="canonical"
      href="Https://preview.keenthemes.com/ceres-html-free"
    />
    <link rel="shortcut icon" href="assets/media/logos/favicon.ico" />
    <!--begin::Fonts-->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700"
    />
    <!--end::Fonts-->
    <!--begin::Page Vendor Stylesheets(used by this page)-->
    <link
      href="assets/plugins/custom/fullcalendar/fullcalendar.bundle.css"
      rel="stylesheet"
      type="text/css"
    />
    <!--end::Page Vendor Stylesheets-->
    <!--begin::Global Stylesheets Bundle(used by all pages)-->
    <link
      href="assets/plugins/global/plugins.bundle.css"
      rel="stylesheet"
      type="text/css"
    />
    <link href="assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/index.css" rel="stylesheet" type="text/css" />
    <link
      href="assets/css/css-circular-prog-bar.css"
      rel="stylesheet"
      type="text/css"
    />
    <script src="https://cdn.jsdelivr.net/npm/sockjs-client/dist/sockjs.min.js"></script>
    <!-- Include STOMP.js library -->
    <script src="https://cdn.jsdelivr.net/npm/stompjs/lib/stomp.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.5.1/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <script src="index.js"></script> -->

    <!--end::Global Stylesheets Bundle-->
    <style>
      /* Hide both charts initially */
      #lineChart,
      #windChart {
        display: none;
      }
    </style>
  </head>
  <!--end::Head-->
  <!--begin::Body-->
  <body
    id="kt_body"
    style="background-image: url(assets/media/patterns/header-bg.png)"
    class="header-fixed header-tablet-and-mobile-fixed toolbar-enabled"
  >
    <!--begin::Main-->
    <!--begin::Root-->
    <div class="d-flex flex-column flex-root">
      <!--begin::Page-->
      <div class="page d-flex flex-row flex-column-fluid">
        <!--begin::Wrapper-->
        <div class="wrapper d-flex flex-column flex-row-fluid" id="kt_wrapper">
          <!--begin::Header-->
          <div
            id="kt_header"
            class="header align-items-stretch"
            data-kt-sticky="true"
            data-kt-sticky-name="header"
            data-kt-sticky-offset="{default: '200px', lg: '300px'}"
          >
            <!--begin::Container-->
            <div class="container-xxl d-flex align-items-center">
              <!--begin::Heaeder menu toggle-->
              <div
                class="d-flex align-items-center d-lg-none ms-n2 me-3"
                title="Show aside menu"
              >
                <div
                  class="btn btn-icon btn-custom w-30px h-30px w-md-40px h-md-40px"
                  id="kt_header_menu_mobile_toggle"
                >
                  <!--begin::Svg Icon | path: icons/duotune/abstract/abs015.svg-->
                  <span class="svg-icon svg-icon-2x">
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                    >
                      <path
                        d="M21 7H3C2.4 7 2 6.6 2 6V4C2 3.4 2.4 3 3 3H21C21.6 3 22 3.4 22 4V6C22 6.6 21.6 7 21 7Z"
                        fill="black"
                      />
                      <path
                        opacity="0.3"
                        d="M21 14H3C2.4 14 2 13.6 2 13V11C2 10.4 2.4 10 3 10H21C21.6 10 22 10.4 22 11V13C22 13.6 21.6 14 21 14ZM22 20V18C22 17.4 21.6 17 21 17H3C2.4 17 2 17.4 2 18V20C2 20.6 2.4 21 3 21H21C21.6 21 22 20.6 22 20Z"
                        fill="black"
                      />
                    </svg>
                  </span>
                  <!--end::Svg Icon-->
                </div>
              </div>
              <!--end::Heaeder menu toggle-->
              <!--begin::Header Logo-->
              <div class="header-logo me-5 me-md-10 flex-grow-1 flex-lg-grow-0">
                <a href="../index.html">
                  <img
                    alt="Logo"
                    src="assets/media/logos/logo-light.svg"
                    class="h-15px h-lg-20px logo-default"
                  />
                  <img
                    alt="Logo"
                    src="assets/media/logos/logo-default.svg"
                    class="h-15px h-lg-20px logo-sticky"
                  />
                </a>
              </div>
              <!--end::Header Logo-->
              <!--begin::Wrapper-->
              <div
                class="d-flex align-items-stretch justify-content-between flex-lg-grow-1"
              >
                <!--begin::Navbar-->
                <div class="d-flex align-items-stretch" id="kt_header_nav">
                  <!--begin::Menu wrapper-->
                  <div
                    class="header-menu align-items-stretch"
                    data-kt-drawer="true"
                    data-kt-drawer-name="header-menu"
                    data-kt-drawer-activate="{default: true, lg: false}"
                    data-kt-drawer-overlay="true"
                    data-kt-drawer-width="{default:'200px', '300px': '250px'}"
                    data-kt-drawer-direction="start"
                    data-kt-drawer-toggle="#kt_header_menu_mobile_toggle"
                    data-kt-swapper="true"
                    data-kt-swapper-mode="prepend"
                    data-kt-swapper-parent="{default: '#kt_body', lg: '#kt_header_nav'}"
                  >
                    <!--begin::Menu-->
                    <div
                      class="menu menu-lg-rounded menu-column menu-lg-row menu-state-bg menu-title-gray-700 menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-400 fw-bold my-5 my-lg-0 align-items-stretch"
                      id="kt_header_menu"
                      data-kt-menu="true"
                    >
                      <div
                        data-kt-menu-trigger="{default: 'click', lg: 'hover'}"
                        data-kt-menu-placement="bottom-start"
                        class="menu-item here show menu-lg-down-accordion me-lg-1"
                      >
                        <a
                          href="index.html"
                          id="dashboardLink"
                          class="menu-link py-3"
                        >
                          <span class="menu-title">Dashboard</span>
                          <span class="menu-arrow d-lg-none"></span>
                        </a>
                      </div>
                      <div
                        data-kt-menu-trigger="{default: 'click', lg: 'hover'}"
                        data-kt-menu-placement="bottom-start"
                        class="menu-item menu-lg-down-accordion me-lg-1"
                      >
                        <a
                          href="data_sensor.html"
                          id="dataSensorLink"
                          class="menu-link py-3"
                        >
                          <span class="menu-title">Data Sensor</span>
                          <span class="menu-arrow d-lg-none"></span>
                        </a>
                      </div>
                      <div
                        data-kt-menu-trigger="{default: 'click', lg: 'hover'}"
                        data-kt-menu-placement="bottom-start"
                        class="menu-item menu-lg-down-accordion me-lg-1"
                      >
                        <a
                          href="action_history.html"
                          id="actionHistoryLink"
                          class="menu-link py-3"
                        >
                          <span class="menu-title">Action History</span>
                          <span class="menu-arrow d-lg-none"></span>
                        </a>
                      </div>
                      <div
                        data-kt-menu-trigger="{default: 'click', lg: 'hover'}"
                        data-kt-menu-placement="bottom-start"
                        class="menu-item menu-lg-down-accordion me-lg-1"
                      >
                        <a
                          href="profile.html"
                          id="profileLink"
                          class="menu-link py-3"
                        >
                          <span class="menu-title">Profile</span>
                          <span class="menu-arrow d-lg-none"></span>
                        </a>
                      </div>
                    </div>

                    <!--end::Menu-->
                  </div>
                  <!--end::Menu wrapper-->
                </div>
                <!--end::Navbar-->

                <!--end::Topbar-->
              </div>
              <!--end::Wrapper-->
            </div>
            <!--end::Container-->
          </div>
          <!--end::Header-->
          <!--begin::Toolbar-->
          <div class="toolbar py-5 py-lg-15" id="kt_toolbar">
            <!--begin::Container-->
            <div
              id="kt_toolbar_container"
              class="container-xxl d-flex flex-stack flex-wrap"
            >
              <!--begin::Title-->
              <h3 class="text-white fw-bolder fs-2qx me-5">
                Current date: <span id="currentDate"></span> | Current time:
                <span id="currentTime"></span>
              </h3>
              <!--begin::Title-->
              <!--begin::Actions-->

              <!--end::Actions-->
            </div>
            <!--end::Container-->
          </div>
          <!--end::Toolbar-->
          <!--begin::Container-->
          <div
            id="kt_content_container"
            class="d-flex flex-column-fluid align-items-start container-xxl"
          >
            <!--begin::Post-->
            <div class="content flex-row-fluid" id="kt_content">
              <!--begin::Index-->
              <div class="card card-page">
                <!--begin::Card body-->
                <div class="card-body">
                  <!--begin::Row-->
                  <div class="row gy-5 g-xl-8">
                    <div class="col-xxl-3">
                      <div class="card">
                        <div class="card-header border-0 pt-5 pb-3">
                          <!--begin::Card title-->
                          <h3 class="card-title fw-bolder text-gray-800 fs-2">
                            Temperature
                          </h3>
                        </div>
                        <div class="card-body pt-5">
                          <div
                            id="kt_mixed_widget_temp_chart"
                            data-kt-height="250"
                            class="mb-n15"
                          ></div>
                          <!--end::Chart-->
                          <!--begin::Label-->
                          <span
                            id="temperature-alert"
                            class="badge badge-lg badge-light-warning w-100 text-gray-800 text-start d-flex align-items-center mt-1"
                          >
                            <i
                              class="fas fa-exclamation-circle text-warning me-3 fs-3"
                            ></i>
                            High temperature alert
                          </span>
                        </div>
                      </div>
                    </div>
                    <div class="col-xxl-3">
                      <div class="card">
                        <div class="card-header border-0 pt-5 pb-3">
                          <!--begin::Card title-->
                          <h3 class="card-title fw-bolder text-gray-800 fs-2">
                            Humidity
                          </h3>
                        </div>
                        <div class="card-body pt-5">
                          <!--begin::Chart-->
                          <div
                            id="kt_mixed_widget_humidity_chart"
                            data-kt-height="250"
                            class="mb-n15"
                          ></div>
                          <!--end::Chart-->
                          <!--begin::Label-->
                          <span
                            id="humidity-alert"
                            class="badge badge-lg badge-light-warning w-100 text-gray-800 text-start d-flex align-items-center"
                          >
                            <i
                              class="fas fa-exclamation-circle text-warning me-3 fs-3"
                            ></i
                            >High Humidity Alert</span
                          >
                          <!--end::Label-->
                        </div>
                      </div>
                    </div>
                    <div class="col-xxl-3">
                      <div class="card">
                        <div class="card-header border-0 pt-5 pb-3">
                          <!--begin::Card title-->
                          <h3 class="card-title fw-bolder text-gray-800 fs-2">
                            Light
                          </h3>
                        </div>
                        <div class="card-body pt-5">
                          <!--begin::Chart-->
                          <div
                            id="kt_mixed_widget_lux_chart"
                            data-kt-height="250"
                            class="mb-n15"
                          ></div>
                          <!--end::Chart-->
                          <!--begin::Label-->
                          <span
                            id="lux-alert"
                            class="badge badge-lg badge-light-warning w-100 text-gray-800 text-start d-flex align-items-center"
                          >
                            <i
                              class="fas fa-exclamation-circle text-warning me-3 fs-3"
                            ></i
                            >High Lux Alert</span
                          >
                          <!--end::Label-->
                        </div>
                      </div>
                    </div>
                    <div class="col-xxl-3">
                      <div class="card">
                        <div class="card-header border-0 pt-5 pb-3">
                          <!--begin::Card title-->
                          <h3 class="card-title fw-bolder text-gray-800 fs-2">
                            Wind
                          </h3>
                        </div>
                        <div class="card-body pt-5">
                          <!--begin::Chart-->
                          <div
                            id="kt_mixed_widget_wind_chart"
                            data-kt-height="250"
                            class="mb-n15"
                          ></div>
                          <!--end::Chart-->
                          <!--begin::Label-->
                          <span
                            id="wind-alert"
                            class="badge badge-lg badge-light-warning w-100 text-gray-800 text-start d-flex align-items-center"
                          >
                            <i
                              class="fas fa-exclamation-circle text-warning me-3 fs-3"
                            ></i
                            >High Wind Speed Alert</span
                          >
                          <!--end::Label-->
                        </div>
                      </div>
                    </div>

                    <div class="col-xxl-4">
                      <div class="card">
                        <div class="card-header border-0 pt-5 pb-3">
                          <!--begin::Card title-->
                          <h3 class="card-title fw-bolder text-gray-800 fs-2">
                            Fan
                          </h3>
                        </div>
                        <div class="card-body pt-5">
                          <div
                            class="card-body d-flex flex-column justify-content-center align-items-center p-0"
                          >
                            <img
                              id="fanImage"
                              src="./assets/media/fan/off.svg"
                              alt="Fan Off"
                              style="width: 125px"
                            />
                            <!-- <div class="d-flex align-items-center mt-3">
                                        <button id="decreaseButton" class="btn btn-secondary" style="margin-right: 10px;">-</button>
                                        <span id="fanLevel" class="h4" style="text-align: center;">OFF</span>
                                        <button id="increaseButton" class="btn btn-secondary" style="margin-left: 10px;">+</button>
                                    </div> -->
                            <div class="d-flex align-items-center mt-3">
                              <button
                                id="onButton"
                                class="btn btn-success"
                                style="margin-right: 10px"
                              >
                                ON
                              </button>
                              <button
                                id="offButton"
                                class="btn btn-danger"
                                style="margin-left: 10px"
                              >
                                OFF
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xxl-4">
                      <div class="card">
                        <div class="card-header border-0 pt-5 pb-3">
                          <!--begin::Card title-->
                          <h3 class="card-title fw-bolder text-gray-800 fs-2">
                            Light
                          </h3>
                        </div>
                        <div class="card-body pt-5">
                          <div
                            class="card-body d-flex flex-column justify-content-center align-items-center p-0"
                          >
                            <img
                              id="lightImage"
                              src="./assets/media/light/off.svg"
                              alt="Light Off"
                              style="width: 125px"
                            />
                            <div class="d-flex align-items-center mt-3">
                              <button
                                id="onButtonLight"
                                class="btn btn-success"
                                style="margin-right: 10px"
                              >
                                ON
                              </button>
                              <button
                                id="offButtonLight"
                                class="btn btn-danger"
                                style="margin-left: 10px"
                              >
                                OFF
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xxl-4">
                      <div class="card">
                        <div class="card-header border-0 pt-5 pb-3">
                          <h3 class="card-title fw-bolder text-gray-800 fs-2">
                            Air Conditioner
                          </h3>
                        </div>
                        <div class="card-body pt-5">
                          <div
                            class="card-body d-flex flex-column justify-content-center align-items-center p-0"
                          >
                            <img
                              id="acImage"
                              src="./assets/media/airconditioner/off.svg"
                              alt="Air Conditioner Off"
                              style="width: 125px"
                            />
                            <div class="d-flex align-items-center mt-3">
                              <button
                                id="onAC"
                                class="btn btn-success"
                                style="margin-right: 10px"
                              >
                                ON
                              </button>
                              <button
                                id="offAC"
                                class="btn btn-danger"
                                style="margin-left: 10px"
                              >
                                OFF
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="col-xxl-12">
                      <div class="card card-xl-stretch mb-5 mb-xl-8">
                        <div class="card-header border-0 pt-5 pb-3">
                          <h3 class="card-title fw-bolder text-gray-800 fs-2">
                            Chart
                          </h3>
                          <div class="card-toolbar">
                            <div class="my-1">
                              <select
                                id="chartSelect"
                                class="form-select fw-bold w-125px"
                                onchange="updateChart()"
                              >
                                <option value="sensorData">
                                  Temperature, Humidity, Light
                                </option>
                                <option value="windData" selected="selected">
                                  Wind Speed
                                </option>
                              </select>
                            </div>
                          </div>
                        </div>
                        <div class="card-body" style="text-align: center">
                          <canvas id="lineChart" height="125"></canvas>
                          <canvas id="windChart" height="125"></canvas>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!--end::Row-->

                  <!--begin::Modals-->

                  <!--begin::Modal - New Product-->

                  <!--end::Modal - New Product-->
                  <!--end::Modals-->
                </div>
                <!--end::Card body-->
              </div>
              <!--end::Index-->
            </div>
            <!--end::Post-->
          </div>
          <!--end::Container-->
          <!--begin::Footer-->
          <div class="footer py-4 d-flex flex-lg-column" id="kt_footer">
            <!--begin::Container-->
            <div
              class="container-xxl d-flex flex-column flex-md-row align-items-center justify-content-center"
            >
              <span class="text-gray-800 text-hover-primary">
                Copyright 2024 © Nguyễn Hải Yến</span
              >
            </div>
            <!--end::Container-->
          </div>
          <!--end::Footer-->
        </div>
        <!--end::Wrapper-->
      </div>
      <!--end::Page-->
    </div>
    <!--end::Root-->

    <!--end::Modals-->
    <!--begin::Scrolltop-->
    <div id="kt_scrolltop" class="scrolltop" data-kt-scrolltop="true">
      <!--begin::Svg Icon | path: icons/duotune/arrows/arr066.svg-->
      <span class="svg-icon">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
        >
          <rect
            opacity="0.5"
            x="13"
            y="6"
            width="13"
            height="2"
            rx="1"
            transform="rotate(90 13 6)"
            fill="black"
          />
          <path
            d="M12.5657 8.56569L16.75 12.75C17.1642 13.1642 17.8358 13.1642 18.25 12.75C18.6642 12.3358 18.6642 11.6642 18.25 11.25L12.7071 5.70711C12.3166 5.31658 11.6834 5.31658 11.2929 5.70711L5.75 11.25C5.33579 11.6642 5.33579 12.3358 5.75 12.75C6.16421 13.1642 6.83579 13.1642 7.25 12.75L11.4343 8.56569C11.7467 8.25327 12.2533 8.25327 12.5657 8.56569Z"
            fill="black"
          />
        </svg>
      </span>
      <!--end::Svg Icon-->
    </div>
    <!--end::Scrolltop-->
    <!--end::Main-->
    <script>
      var hostUrl = "assets/";
    </script>
    <!--begin::Javascript-->
    <!--begin::Global Javascript Bundle(used by all pages)-->
    <script src="assets/plugins/global/plugins.bundle.js"></script>
    <script src="assets/js/scripts.bundle.js"></script>
    <script src="assets/js/index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <!--end::Global Javascript Bundle-->
    <!--begin::Page Vendors Javascript(used by this page)-->
    <script src="assets/plugins/custom/fullcalendar/fullcalendar.bundle.js"></script>
    <!--end::Page Vendors Javascript-->
    <!--begin::Page Custom Javascript(used by this page)-->
    <script src="assets/js/custom/widgets.js"></script>

    <!--end::Page Custom Javascript-->
    <!--end::Javascript-->
  </body>
  <!--end::Body-->
  <!-- <script>
    document.addEventListener("DOMContentLoaded", function () {
      const ctx = document.getElementById("lineChart").getContext("2d");
      let lineChart;

      function fetchDataAndUpdateChart() {
        fetch("http://localhost:8080/api/sensor-data/top11latest")
          .then((response) => response.json())
          .then((data) => {
            data.reverse();

            const temperatures = data.map((item) => item.temperature);
            const humidities = data.map((item) => item.humidity);
            const lights = data.map((item) => item.light);

            const labels = [];
            for (let i = 0; i < data.length - 1; i++) {
              labels.push(`${(data.length - 1 - i) * 2}s ago`);
            }
            labels.push("now");

            if (lineChart) {
              lineChart.data.labels = labels;
              lineChart.data.datasets[0].data = temperatures;
              lineChart.data.datasets[1].data = humidities;
              lineChart.data.datasets[2].data = lights;
              lineChart.update();
            } else {
              lineChart = new Chart(ctx, {
                type: "line",
                data: {
                  labels: labels,
                  datasets: [
                    {
                      label: "Temperature (°C)",
                      data: temperatures,
                      borderColor: "rgba(0, 123, 255, 1)", // Màu đường
                      backgroundColor: "rgba(0, 123, 255, 0.2)", // Màu nền
                      borderWidth: 2,
                      fill: false,
                      pointBackgroundColor: "rgba(0, 123, 255, 1)", // Màu chấm
                      pointRadius: 5, // Kích thước chấm
                    },
                    {
                      label: "Humidity (%)",
                      data: humidities,
                      borderColor: "rgba(40, 167, 69, 1)", // Màu đường
                      backgroundColor: "rgba(40, 167, 69, 0.2)", // Màu nền
                      borderWidth: 2,
                      fill: false,
                      pointBackgroundColor: "rgba(40, 167, 69, 1)", // Màu chấm
                      pointRadius: 5,
                    },
                    {
                      label: "Light (Lux)",
                      data: lights,
                      borderColor: "rgba(255, 193, 7, 1)", // Màu đường
                      backgroundColor: "rgba(255, 193, 7, 0.2)", // Màu nền
                      borderWidth: 2,
                      fill: false,
                      pointBackgroundColor: "rgba(255, 193, 7, 1)", // Màu chấm
                      pointRadius: 5,
                    },
                  ],
                },
                options: {
                  responsive: true,
                  scales: {
                    x: {
                      type: "category",
                    },
                    y: {
                      beginAtZero: true,
                    },
                  },
                },
              });
            }
          })
          .catch((error) => console.error("Error fetching data:", error));
      }

      fetchDataAndUpdateChart();
      setInterval(fetchDataAndUpdateChart, 2000);
    });
  </script> -->
  <script src="https://cdn.jsdelivr.net/npm/sockjs-client/dist/sockjs.min.js"></script>
  <!-- Include STOMP.js library -->
  <script src="https://cdn.jsdelivr.net/npm/stompjs/lib/stomp.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- <script>
    let lineChart, windChart;
    const ctx = document.getElementById("lineChart").getContext("2d");
    const windCtx = document.getElementById("windChart").getContext("2d");

    // Function to update the chart based on the selection
    function updateChart() {
      const selectedChart = document.getElementById("chartSelect").value;

      // Hide/show charts based on selection
      if (selectedChart === "sensorData") {
        document.getElementById("lineChart").style.display = "block";
        document.getElementById("windChart").style.display = "none";
        fetchDataAndUpdateChart();
        setInterval(fetchDataAndUpdateChart, 2000);
      } else {
        document.getElementById("lineChart").style.display = "none";
        document.getElementById("windChart").style.display = "block";
        fetchWindDataAndUpdateChart();
        setInterval(fetchWindDataAndUpdateChart, 2000);
      }
    }

    function fetchDataAndUpdateChart() {
      fetch("http://localhost:8080/api/sensor-data/top11latest")
        .then((response) => {
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          return response.json();
        })
        .then((data) => {
          data.reverse();
          const temperatures = data.map((item) => item.temperature);
          const humidities = data.map((item) => item.humidity);
          const lights = data.map((item) => item.light);

          const labels = [];
          for (let i = 0; i < data.length - 1; i++) {
            labels.push(`${(data.length - 1 - i) * 2}s ago`);
          }
          labels.push("now");

          if (lineChart) {
            lineChart.data.labels = labels;
            lineChart.data.datasets[0].data = temperatures;
            lineChart.data.datasets[1].data = humidities;
            lineChart.data.datasets[2].data = lights;
            lineChart.update();
          } else {
            lineChart = new Chart(ctx, {
              type: "line",
              data: {
                labels: labels,
                datasets: [
                  {
                    label: "Temperature (°C)",
                    data: temperatures,
                    borderColor: "rgba(0, 123, 255, 1)",
                    backgroundColor: "rgba(0, 123, 255, 0.2)",
                    borderWidth: 2,
                    fill: false,
                    pointBackgroundColor: "rgba(0, 123, 255, 1)",
                    pointRadius: 5,
                  },
                  {
                    label: "Humidity (%)",
                    data: humidities,
                    borderColor: "rgba(40, 167, 69, 1)",
                    backgroundColor: "rgba(40, 167, 69, 0.2)",
                    borderWidth: 2,
                    fill: false,
                    pointBackgroundColor: "rgba(40, 167, 69, 1)",
                    pointRadius: 5,
                  },
                  {
                    label: "Light (Lux)",
                    data: lights,
                    borderColor: "rgba(255, 193, 7, 1)",
                    backgroundColor: "rgba(255, 193, 7, 0.2)",
                    borderWidth: 2,
                    fill: false,
                    pointBackgroundColor: "rgba(255, 193, 7, 1)",
                    pointRadius: 5,
                  },
                ],
              },
              options: {
                responsive: true,
                scales: {
                  x: {
                    type: "category",
                  },
                  y: {
                    beginAtZero: true,
                  },
                },
              },
            });
          }
        })
        .catch((error) => console.error("Error fetching data:", error));
    }

    function fetchWindDataAndUpdateChart() {
      fetch("http://localhost:8080/api/sensor-data/top11latest")
        .then((response) => {
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          return response.json();
        })
        .then((data) => {
          data.reverse();
          const winds = data.map((item) => item.wind);

          const labels = [];
          for (let i = 0; i < data.length - 1; i++) {
            labels.push(`${(data.length - 1 - i) * 2}s ago`);
          }
          labels.push("now");

          if (windChart) {
            windChart.data.labels = labels;
            windChart.data.datasets[0].data = winds;
            windChart.update();
          } else {
            windChart = new Chart(windCtx, {
              type: "line",
              data: {
                labels: labels,
                datasets: [
                  {
                    label: "Wind Speed (km/h)",
                    data: winds,
                    borderColor: "rgba(255, 0, 0, 1)",
                    backgroundColor: "rgba(255, 0, 0, 0.2)",
                    borderWidth: 2,
                    fill: false,
                    pointBackgroundColor: "rgba(255, 0, 0, 1)",
                    pointRadius: 5,
                  },
                ],
              },
              options: {
                responsive: true,
                scales: {
                  x: {
                    type: "category",
                  },
                  y: {
                    beginAtZero: true,
                  },
                },
              },
            });
          }
        })
        .catch((error) => console.error("Error fetching wind data:", error));
    }

    // Initial chart setup
    updateChart(); // Call this function to set the initial chart
  </script> -->

  <!-- <script>
    let lineChart, windChart;

    function updateChart() {
      const selectedChart = document.getElementById("chartSelect").value;

      const lineChartElement = document.getElementById("lineChart");
      const windChartElement = document.getElementById("windChart");

      if (selectedChart === "sensorData") {
        lineChartElement.style.display = "block";
        windChartElement.style.display = "none";
        fetchDataAndUpdateChart();
      } else {
        lineChartElement.style.display = "none";
        windChartElement.style.display = "block";
        fetchWindDataAndUpdateChart();
      }
    }

    // Function to fetch data for temperature, humidity, and light
    function fetchDataAndUpdateChart() {
      fetch("http://localhost:8080/api/sensor-data/top11latest")
        .then((response) => {
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          return response.json();
        })
        .then((data) => {
          data.reverse();

          const temperatures = data.map((item) => item.temperature);
          const humidities = data.map((item) => item.humidity);
          const lights = data.map((item) => item.light);

          const labels = [];
          for (let i = 0; i < data.length - 1; i++) {
            labels.push(`${(data.length - 1 - i) * 2}s ago`);
          }
          labels.push("now");

          if (lineChart) {
            lineChart.data.labels = labels;
            lineChart.data.datasets[0].data = temperatures;
            lineChart.data.datasets[1].data = humidities;
            lineChart.data.datasets[2].data = lights;
            lineChart.update();
          } else {
            lineChart = new Chart(lineChartElement.getContext("2d"), {
              type: "line",
              data: {
                labels: labels,
                datasets: [
                  {
                    label: "Temperature (°C)",
                    data: temperatures,
                    borderColor: "rgba(0, 123, 255, 1)",
                    backgroundColor: "rgba(0, 123, 255, 0.2)",
                    borderWidth: 2,
                    fill: false,
                    pointBackgroundColor: "rgba(0, 123, 255, 1)",
                    pointRadius: 5,
                  },
                  {
                    label: "Humidity (%)",
                    data: humidities,
                    borderColor: "rgba(40, 167, 69, 1)",
                    backgroundColor: "rgba(40, 167, 69, 0.2)",
                    borderWidth: 2,
                    fill: false,
                    pointBackgroundColor: "rgba(40, 167, 69, 1)",
                    pointRadius: 5,
                  },
                  {
                    label: "Light (Lux)",
                    data: lights,
                    borderColor: "rgba(255, 193, 7, 1)",
                    backgroundColor: "rgba(255, 193, 7, 0.2)",
                    borderWidth: 2,
                    fill: false,
                    pointBackgroundColor: "rgba(255, 193, 7, 1)",
                    pointRadius: 5,
                  },
                ],
              },
              options: {
                responsive: true,
                scales: {
                  x: {
                    type: "category",
                  },
                  y: {
                    beginAtZero: true,
                  },
                },
              },
            });
          }
        })
        .catch((error) => console.error("Error fetching data:", error));
    }

    // Function to fetch wind speed data
    function fetchWindDataAndUpdateChart() {
      fetch("http://localhost:8080/api/sensor-data/top11latest")
        .then((response) => {
          if (!response.ok) {
            throw new Error("Network response was not ok");
          }
          return response.json();
        })
        .then((data) => {
          data.reverse();

          const winds = data.map((item) => item.wind);

          const labels = [];
          for (let i = 0; i < data.length - 1; i++) {
            labels.push(`${(data.length - 1 - i) * 2}s ago`);
          }
          labels.push("now");

          if (windChart) {
            windChart.data.labels = labels;
            windChart.data.datasets[0].data = winds;
            windChart.update();
          } else {
            windChart = new Chart(windChartElement.getContext("2d"), {
              type: "line",
              data: {
                labels: labels,
                datasets: [
                  {
                    label: "Wind Speed (km/h)",
                    data: winds,
                    borderColor: "rgba(255, 0, 0, 1)",
                    backgroundColor: "rgba(255, 0, 0, 0.2)",
                    borderWidth: 2,
                    fill: false,
                    pointBackgroundColor: "rgba(255, 0, 0, 1)",
                    pointRadius: 5,
                  },
                ],
              },
              options: {
                responsive: true,
                scales: {
                  x: {
                    type: "category",
                  },
                  y: {
                    beginAtZero: true,
                  },
                },
              },
            });
          }
        })
        .catch((error) => console.error("Error fetching wind data:", error));
    }

    // Initialize with wind chart
    updateChart();
  </script> -->
</html>
